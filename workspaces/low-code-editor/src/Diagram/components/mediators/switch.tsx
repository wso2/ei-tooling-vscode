import React from "react";
import { getComponent } from "../../util";
import { WorkerLine } from "../worker-line";
import { Circle, Square } from "@wso2-ei/low-code-diagram";

interface SquareProps {
    model: Square;
}

export function Switch(props: SquareProps) {
    const { model } = props;

    const viewState = model.viewState;

    const components: JSX.Element[] = [];

    model.children.forEach(child => {
        components.push(getComponent(child.tag, { model: child }));
    })

    return (
        <>

            <svg x={viewState.bBox.x} y={viewState.bBox.y} width={viewState.bBox.w} height={viewState.bBox.h}  viewBox="0 0 800 600" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect width="800" height="600" fill="#1E1E1E" />
                <rect id="Rectangle 2" width="800" height="600" fill="#C0C0C0" />
                <path id="Rectangle 1" d="M10 10H430V590H10V10Z" fill="#357B51" />
                <rect id="Rectangle 3" x="474" y="10" width="310" height="250" fill="#A9A9A9" />
                <rect id="Rectangle 4" x="474" y="336" width="310" height="250" fill="#A9A9A9" />
                <path id="Polygon 1" d="M468 471.5L439.5 507.44V435.56L468 471.5Z" fill="#71797E" />
                <path id="Polygon 2" d="M468 121.5L439.5 157.44V85.5599L468 121.5Z" fill="#71797E" />
                <path id="Switch" d="M167.31 516.276C167.196 515.13 166.708 514.24 165.847 513.605C164.985 512.971 163.815 512.653 162.338 512.653C161.334 512.653 160.487 512.795 159.795 513.08C159.104 513.354 158.574 513.738 158.205 514.23C157.845 514.723 157.665 515.281 157.665 515.906C157.646 516.427 157.755 516.882 157.991 517.27C158.238 517.658 158.574 517.994 159 518.278C159.426 518.553 159.919 518.795 160.477 519.003C161.036 519.202 161.633 519.372 162.267 519.514L164.881 520.139C166.15 520.423 167.314 520.802 168.375 521.276C169.436 521.749 170.354 522.331 171.131 523.023C171.907 523.714 172.509 524.528 172.935 525.466C173.37 526.403 173.593 527.478 173.602 528.69C173.593 530.471 173.138 532.014 172.239 533.321C171.348 534.618 170.061 535.627 168.375 536.347C166.699 537.057 164.677 537.412 162.31 537.412C159.961 537.412 157.916 537.052 156.173 536.332C154.44 535.613 153.086 534.547 152.111 533.136C151.145 531.716 150.638 529.959 150.591 527.866H156.543C156.609 528.842 156.888 529.656 157.381 530.31C157.883 530.954 158.55 531.441 159.384 531.773C160.226 532.095 161.178 532.256 162.239 532.256C163.28 532.256 164.185 532.104 164.952 531.801C165.728 531.498 166.33 531.077 166.756 530.537C167.182 529.997 167.395 529.377 167.395 528.676C167.395 528.023 167.201 527.473 166.812 527.028C166.434 526.583 165.875 526.205 165.136 525.892C164.407 525.58 163.512 525.295 162.452 525.04L159.284 524.244C156.831 523.648 154.895 522.715 153.474 521.446C152.054 520.177 151.348 518.468 151.358 516.318C151.348 514.557 151.817 513.018 152.764 511.702C153.721 510.385 155.032 509.358 156.699 508.619C158.366 507.881 160.259 507.511 162.381 507.511C164.54 507.511 166.424 507.881 168.034 508.619C169.653 509.358 170.913 510.385 171.812 511.702C172.712 513.018 173.176 514.543 173.205 516.276H167.31ZM181.93 537L175.992 515.182H182.114L185.495 529.841H185.694L189.217 515.182H195.225L198.805 529.756H198.989L202.313 515.182H208.421L202.498 537H196.092L192.342 523.278H192.072L188.322 537H181.93ZM211.649 537V515.182H217.7V537H211.649ZM214.689 512.369C213.789 512.369 213.018 512.071 212.374 511.474C211.739 510.868 211.422 510.144 211.422 509.301C211.422 508.468 211.739 507.753 212.374 507.156C213.018 506.55 213.789 506.247 214.689 506.247C215.589 506.247 216.356 506.55 216.99 507.156C217.634 507.753 217.956 508.468 217.956 509.301C217.956 510.144 217.634 510.868 216.99 511.474C216.356 512.071 215.589 512.369 214.689 512.369ZM234.153 515.182V519.727H221.013V515.182H234.153ZM223.996 509.955H230.048V530.295C230.048 530.854 230.133 531.29 230.303 531.602C230.474 531.905 230.71 532.118 231.013 532.241C231.326 532.365 231.686 532.426 232.093 532.426C232.377 532.426 232.661 532.402 232.945 532.355C233.229 532.298 233.447 532.256 233.599 532.227L234.55 536.73C234.247 536.825 233.821 536.934 233.272 537.057C232.723 537.189 232.055 537.27 231.269 537.298C229.811 537.355 228.532 537.161 227.434 536.716C226.345 536.271 225.497 535.58 224.891 534.642C224.285 533.705 223.987 532.521 223.996 531.091V509.955ZM247.718 537.426C245.483 537.426 243.561 536.953 241.951 536.006C240.351 535.049 239.12 533.723 238.258 532.028C237.406 530.333 236.979 528.383 236.979 526.176C236.979 523.941 237.41 521.981 238.272 520.295C239.143 518.6 240.379 517.279 241.979 516.332C243.58 515.376 245.483 514.898 247.69 514.898C249.593 514.898 251.26 515.243 252.69 515.935C254.12 516.626 255.251 517.597 256.085 518.847C256.918 520.097 257.377 521.564 257.462 523.25H251.752C251.591 522.161 251.165 521.285 250.474 520.622C249.792 519.95 248.897 519.614 247.789 519.614C246.852 519.614 246.032 519.869 245.332 520.381C244.64 520.883 244.101 521.616 243.712 522.582C243.324 523.548 243.13 524.718 243.13 526.091C243.13 527.483 243.319 528.667 243.698 529.642C244.086 530.617 244.631 531.361 245.332 531.872C246.032 532.384 246.852 532.639 247.789 532.639C248.48 532.639 249.101 532.497 249.65 532.213C250.209 531.929 250.668 531.517 251.028 530.977C251.397 530.428 251.638 529.77 251.752 529.003H257.462C257.368 530.67 256.913 532.137 256.099 533.406C255.294 534.666 254.181 535.651 252.761 536.361C251.34 537.071 249.659 537.426 247.718 537.426ZM267.388 524.386V537H261.337V507.909H267.217V519.031H267.473C267.965 517.743 268.761 516.735 269.859 516.006C270.958 515.267 272.336 514.898 273.993 514.898C275.508 514.898 276.829 515.229 277.956 515.892C279.092 516.545 279.973 517.488 280.598 518.719C281.232 519.94 281.545 521.403 281.536 523.108V537H275.484V524.188C275.494 522.843 275.153 521.796 274.462 521.048C273.78 520.3 272.823 519.926 271.592 519.926C270.768 519.926 270.039 520.101 269.405 520.452C268.78 520.802 268.287 521.313 267.928 521.986C267.577 522.649 267.397 523.449 267.388 524.386Z" fill="white" />
                <path id="Default" d="M593.5 435H584.523V405.909H593.898C596.72 405.909 599.134 406.491 601.142 407.656C603.15 408.812 604.688 410.473 605.759 412.642C606.829 414.801 607.364 417.386 607.364 420.398C607.364 423.428 606.824 426.037 605.744 428.224C604.665 430.402 603.093 432.079 601.028 433.253C598.964 434.418 596.455 435 593.5 435ZM588.045 431.875H593.273C595.678 431.875 597.671 431.411 599.253 430.483C600.834 429.555 602.013 428.234 602.79 426.52C603.566 424.806 603.955 422.765 603.955 420.398C603.955 418.049 603.571 416.027 602.804 414.332C602.037 412.628 600.891 411.321 599.366 410.412C597.842 409.493 595.943 409.034 593.67 409.034H588.045V431.875ZM621.966 435.455C619.864 435.455 618.05 434.991 616.526 434.062C615.01 433.125 613.841 431.818 613.017 430.142C612.203 428.456 611.795 426.496 611.795 424.261C611.795 422.027 612.203 420.057 613.017 418.352C613.841 416.638 614.987 415.303 616.455 414.347C617.932 413.381 619.655 412.898 621.625 412.898C622.761 412.898 623.884 413.087 624.991 413.466C626.099 413.845 627.108 414.46 628.017 415.312C628.926 416.155 629.651 417.273 630.19 418.665C630.73 420.057 631 421.771 631 423.807V425.227H614.182V422.33H627.591C627.591 421.098 627.345 420 626.852 419.034C626.369 418.068 625.678 417.306 624.778 416.747C623.888 416.188 622.837 415.909 621.625 415.909C620.29 415.909 619.134 416.241 618.159 416.903C617.193 417.557 616.45 418.409 615.929 419.46C615.408 420.511 615.148 421.638 615.148 422.841V424.773C615.148 426.42 615.432 427.817 616 428.963C616.578 430.099 617.378 430.966 618.401 431.562C619.423 432.15 620.612 432.443 621.966 432.443C622.847 432.443 623.642 432.32 624.352 432.074C625.072 431.818 625.692 431.439 626.213 430.938C626.734 430.426 627.136 429.792 627.42 429.034L630.659 429.943C630.318 431.042 629.745 432.008 628.94 432.841C628.135 433.665 627.141 434.309 625.957 434.773C624.774 435.227 623.443 435.455 621.966 435.455ZM645.815 413.182V416.023H634.054V413.182H645.815ZM637.577 435V410.17C637.577 408.92 637.87 407.879 638.457 407.045C639.045 406.212 639.807 405.587 640.744 405.17C641.682 404.754 642.671 404.545 643.713 404.545C644.537 404.545 645.209 404.612 645.73 404.744C646.251 404.877 646.639 405 646.895 405.114L645.929 408.011C645.759 407.955 645.522 407.884 645.219 407.798C644.925 407.713 644.537 407.67 644.054 407.67C642.946 407.67 642.146 407.95 641.653 408.509C641.17 409.067 640.929 409.886 640.929 410.966V435H637.577ZM656.309 435.511C654.926 435.511 653.672 435.251 652.545 434.73C651.418 434.2 650.523 433.438 649.86 432.443C649.197 431.439 648.866 430.227 648.866 428.807C648.866 427.557 649.112 426.544 649.604 425.767C650.097 424.981 650.755 424.366 651.579 423.92C652.403 423.475 653.312 423.144 654.306 422.926C655.31 422.699 656.318 422.519 657.332 422.386C658.657 422.216 659.732 422.088 660.556 422.003C661.389 421.908 661.996 421.752 662.374 421.534C662.763 421.316 662.957 420.937 662.957 420.398V420.284C662.957 418.883 662.573 417.794 661.806 417.017C661.049 416.241 659.898 415.852 658.354 415.852C656.754 415.852 655.499 416.203 654.59 416.903C653.681 417.604 653.042 418.352 652.673 419.148L649.491 418.011C650.059 416.686 650.817 415.653 651.763 414.915C652.72 414.167 653.762 413.646 654.888 413.352C656.025 413.049 657.142 412.898 658.241 412.898C658.942 412.898 659.746 412.983 660.656 413.153C661.574 413.314 662.46 413.651 663.312 414.162C664.174 414.673 664.888 415.445 665.457 416.477C666.025 417.509 666.309 418.892 666.309 420.625V435H662.957V432.045H662.786C662.559 432.519 662.18 433.026 661.65 433.565C661.12 434.105 660.414 434.564 659.533 434.943C658.653 435.322 657.578 435.511 656.309 435.511ZM656.82 432.5C658.146 432.5 659.263 432.24 660.173 431.719C661.091 431.198 661.782 430.526 662.246 429.702C662.72 428.878 662.957 428.011 662.957 427.102V424.034C662.815 424.205 662.502 424.361 662.019 424.503C661.546 424.635 660.996 424.754 660.371 424.858C659.756 424.953 659.155 425.038 658.567 425.114C657.99 425.18 657.521 425.237 657.161 425.284C656.29 425.398 655.476 425.582 654.718 425.838C653.97 426.084 653.364 426.458 652.9 426.96C652.445 427.453 652.218 428.125 652.218 428.977C652.218 430.142 652.649 431.023 653.511 431.619C654.382 432.206 655.485 432.5 656.82 432.5ZM686.178 426.08V413.182H689.53V435H686.178V431.307H685.95C685.439 432.415 684.643 433.357 683.564 434.134C682.484 434.901 681.121 435.284 679.473 435.284C678.109 435.284 676.897 434.986 675.837 434.389C674.776 433.783 673.943 432.874 673.337 431.662C672.731 430.44 672.428 428.902 672.428 427.045V413.182H675.78V426.818C675.78 428.409 676.225 429.678 677.115 430.625C678.015 431.572 679.161 432.045 680.553 432.045C681.386 432.045 682.233 431.832 683.095 431.406C683.966 430.98 684.696 430.327 685.283 429.446C685.879 428.565 686.178 427.443 686.178 426.08ZM699.022 405.909V435H695.67V405.909H699.022ZM714.651 413.182V416.023H703.344V413.182H714.651ZM706.639 407.955H709.991V428.75C709.991 429.697 710.129 430.407 710.403 430.881C710.688 431.345 711.047 431.657 711.483 431.818C711.928 431.97 712.397 432.045 712.889 432.045C713.259 432.045 713.562 432.027 713.798 431.989C714.035 431.941 714.224 431.903 714.366 431.875L715.048 434.886C714.821 434.972 714.504 435.057 714.097 435.142C713.689 435.237 713.173 435.284 712.548 435.284C711.601 435.284 710.673 435.08 709.764 434.673C708.865 434.266 708.116 433.646 707.52 432.812C706.933 431.979 706.639 430.928 706.639 429.659V407.955Z" fill="black" />
                <path id="Case" d="M607.932 60H604.409C604.201 58.9867 603.836 58.0966 603.315 57.3295C602.804 56.5625 602.179 55.9186 601.44 55.3977C600.711 54.8674 599.902 54.4697 599.011 54.2045C598.121 53.9394 597.193 53.8068 596.227 53.8068C594.466 53.8068 592.87 54.2519 591.44 55.142C590.02 56.0322 588.888 57.3438 588.045 59.0767C587.212 60.8097 586.795 62.9356 586.795 65.4545C586.795 67.9735 587.212 70.0994 588.045 71.8324C588.888 73.5653 590.02 74.8769 591.44 75.767C592.87 76.6572 594.466 77.1023 596.227 77.1023C597.193 77.1023 598.121 76.9697 599.011 76.7045C599.902 76.4394 600.711 76.0464 601.44 75.5256C602.179 74.9953 602.804 74.3466 603.315 73.5795C603.836 72.803 604.201 71.9129 604.409 70.9091H607.932C607.667 72.3958 607.184 73.7263 606.483 74.9006C605.782 76.0748 604.911 77.0739 603.869 77.8977C602.828 78.7121 601.658 79.3324 600.361 79.7585C599.073 80.1847 597.695 80.3977 596.227 80.3977C593.746 80.3977 591.54 79.7917 589.608 78.5795C587.676 77.3674 586.156 75.6439 585.048 73.4091C583.94 71.1742 583.386 68.5227 583.386 65.4545C583.386 62.3864 583.94 59.7348 585.048 57.5C586.156 55.2652 587.676 53.5417 589.608 52.3295C591.54 51.1174 593.746 50.5114 596.227 50.5114C597.695 50.5114 599.073 50.7244 600.361 51.1506C601.658 51.5767 602.828 52.2017 603.869 53.0256C604.911 53.84 605.782 54.8343 606.483 56.0085C607.184 57.1733 607.667 58.5038 607.932 60ZM619.59 80.5114C618.208 80.5114 616.953 80.2509 615.826 79.7301C614.699 79.1998 613.804 78.4375 613.141 77.4432C612.478 76.4394 612.147 75.2273 612.147 73.8068C612.147 72.5568 612.393 71.5436 612.886 70.767C613.378 69.9811 614.036 69.3655 614.86 68.9205C615.684 68.4754 616.593 68.1439 617.587 67.9261C618.591 67.6989 619.6 67.5189 620.613 67.3864C621.939 67.2159 623.013 67.0881 623.837 67.0028C624.671 66.9081 625.277 66.7519 625.656 66.5341C626.044 66.3163 626.238 65.9375 626.238 65.3977V65.2841C626.238 63.8826 625.854 62.7936 625.087 62.017C624.33 61.2405 623.179 60.8523 621.636 60.8523C620.035 60.8523 618.781 61.2027 617.871 61.9034C616.962 62.6042 616.323 63.3523 615.954 64.1477L612.772 63.0114C613.34 61.6856 614.098 60.6534 615.045 59.9148C616.001 59.1667 617.043 58.6458 618.17 58.3523C619.306 58.0492 620.424 57.8977 621.522 57.8977C622.223 57.8977 623.028 57.983 623.937 58.1534C624.855 58.3144 625.741 58.6506 626.593 59.1619C627.455 59.6733 628.17 60.4451 628.738 61.4773C629.306 62.5095 629.59 63.892 629.59 65.625V80H626.238V77.0455H626.067C625.84 77.5189 625.461 78.0256 624.931 78.5653C624.401 79.1051 623.695 79.5644 622.815 79.9432C621.934 80.322 620.859 80.5114 619.59 80.5114ZM620.102 77.5C621.427 77.5 622.545 77.2396 623.454 76.7188C624.372 76.1979 625.064 75.5256 625.528 74.7017C626.001 73.8778 626.238 73.0114 626.238 72.1023V69.0341C626.096 69.2045 625.783 69.3608 625.3 69.5028C624.827 69.6354 624.278 69.7538 623.653 69.858C623.037 69.9527 622.436 70.0379 621.849 70.1136C621.271 70.1799 620.802 70.2367 620.442 70.2841C619.571 70.3977 618.757 70.5824 617.999 70.8381C617.251 71.0843 616.645 71.4583 616.181 71.9602C615.727 72.4527 615.499 73.125 615.499 73.9773C615.499 75.142 615.93 76.0227 616.792 76.6193C617.663 77.2064 618.766 77.5 620.102 77.5ZM651.163 63.0682L648.152 63.9205C647.963 63.4186 647.683 62.9309 647.314 62.4574C646.954 61.9744 646.462 61.5767 645.837 61.2642C645.212 60.9517 644.411 60.7955 643.436 60.7955C642.101 60.7955 640.988 61.1032 640.098 61.7188C639.217 62.3248 638.777 63.0966 638.777 64.0341C638.777 64.8674 639.08 65.5256 639.686 66.0085C640.292 66.4915 641.239 66.8939 642.527 67.2159L645.766 68.0114C647.716 68.4848 649.17 69.2093 650.126 70.1847C651.083 71.1506 651.561 72.3958 651.561 73.9205C651.561 75.1705 651.201 76.2879 650.482 77.2727C649.771 78.2576 648.777 79.0341 647.499 79.6023C646.22 80.1705 644.733 80.4545 643.038 80.4545C640.813 80.4545 638.971 79.9716 637.513 79.0057C636.054 78.0398 635.131 76.6288 634.743 74.7727L637.925 73.9773C638.228 75.1515 638.801 76.0322 639.643 76.6193C640.496 77.2064 641.608 77.5 642.982 77.5C644.544 77.5 645.785 77.1686 646.703 76.5057C647.631 75.8333 648.095 75.0284 648.095 74.0909C648.095 73.3333 647.83 72.6989 647.3 72.1875C646.769 71.6667 645.955 71.2784 644.857 71.0227L641.22 70.1705C639.222 69.697 637.754 68.9631 636.817 67.9688C635.889 66.965 635.425 65.7102 635.425 64.2045C635.425 62.9735 635.77 61.8845 636.462 60.9375C637.162 59.9905 638.114 59.2472 639.317 58.7074C640.529 58.1676 641.902 57.8977 643.436 57.8977C645.595 57.8977 647.29 58.3712 648.521 59.3182C649.762 60.2652 650.643 61.5152 651.163 63.0682ZM665.755 80.4545C663.653 80.4545 661.839 79.9905 660.315 79.0625C658.799 78.125 657.63 76.8182 656.806 75.142C655.992 73.4564 655.585 71.4962 655.585 69.2614C655.585 67.0265 655.992 65.0568 656.806 63.3523C657.63 61.6383 658.776 60.303 660.244 59.3466C661.721 58.3807 663.444 57.8977 665.414 57.8977C666.55 57.8977 667.673 58.0871 668.781 58.4659C669.888 58.8447 670.897 59.4602 671.806 60.3125C672.715 61.1553 673.44 62.2727 673.979 63.6648C674.519 65.0568 674.789 66.7708 674.789 68.8068V70.2273H657.971V67.3295H671.38C671.38 66.0985 671.134 65 670.641 64.0341C670.158 63.0682 669.467 62.3059 668.567 61.7472C667.677 61.1884 666.626 60.9091 665.414 60.9091C664.079 60.9091 662.924 61.2405 661.948 61.9034C660.982 62.5568 660.239 63.4091 659.718 64.4602C659.197 65.5114 658.937 66.6383 658.937 67.8409V69.7727C658.937 71.4205 659.221 72.8172 659.789 73.9631C660.367 75.0994 661.167 75.9659 662.19 76.5625C663.212 77.1496 664.401 77.4432 665.755 77.4432C666.636 77.4432 667.431 77.3201 668.141 77.0739C668.861 76.8182 669.481 76.4394 670.002 75.9375C670.523 75.4261 670.925 74.7917 671.21 74.0341L674.448 74.9432C674.107 76.0417 673.534 77.0076 672.729 77.8409C671.924 78.6648 670.93 79.3087 669.746 79.7727C668.563 80.2273 667.232 80.4545 665.755 80.4545Z" fill="black" />
                <path id="Vector" d="M635 306C628.385 306 623 300.615 623 294C623 287.385 628.385 282 635 282C641.615 282 647 287.385 647 294C647 300.615 641.615 306 635 306ZM635 279C633.03 279 631.08 279.388 629.26 280.142C627.44 280.896 625.786 282.001 624.393 283.393C621.58 286.206 620 290.022 620 294C620 297.978 621.58 301.794 624.393 304.607C625.786 305.999 627.44 307.104 629.26 307.858C631.08 308.612 633.03 309 635 309C638.978 309 642.794 307.42 645.607 304.607C648.42 301.794 650 297.978 650 294C650 292.03 649.612 290.08 648.858 288.26C648.104 286.44 646.999 284.786 645.607 283.393C644.214 282.001 642.56 280.896 640.74 280.142C638.92 279.388 636.97 279 635 279ZM636.5 286.5H633.5V292.5H627.5V295.5H633.5V301.5H636.5V295.5H642.5V292.5H636.5V286.5Z" fill="black" />
                <rect id="Rectangle 15" x="57" y="124" width="327" height="251" rx="37" fill="#357B51" stroke="white" stroke-width="6" />
                <g id="Group 1">
                    <path id="Vector_2" d="M339.627 178.835V167.611H349.498L345.659 157.79L348.314 151L357 173.223L348.314 195.446L345.659 188.656L349.498 178.835H339.627Z" fill="white" />
                    <rect id="Rectangle 5" x="291.659" y="167.758" width="52.8098" height="10.9294" fill="white" />
                    <path id="Vector_3" d="M339.627 330.389V319.165H349.498L345.659 309.344L348.314 302.554L357 324.777L348.314 347L345.659 340.21L349.498 330.389H339.627Z" fill="white" />
                    <rect id="Rectangle 8" x="290.764" y="319.312" width="53.7049" height="10.9294" fill="white" />
                    <rect id="Rectangle 6" x="84" y="319.312" width="53.7049" height="10.9294" fill="white" />
                    <rect id="Rectangle 10" width="225.864" height="12.4307" transform="matrix(0.724946 -0.688806 0.820227 0.572038 127.697 323.202)" fill="white" />
                    <rect id="Rectangle 12" width="225.865" height="12.4306" transform="matrix(0.72497 0.688781 -0.820208 0.572065 137.89 167.627)" fill="white" />
                    <rect id="Rectangle 9" x="84" y="167.758" width="53.7049" height="10.9294" fill="white" />
                    <rect id="Rectangle 13" width="40.969" height="4.0336" transform="matrix(0.72497 -0.688781 0.820208 0.572065 191.41 257.181)" fill="#357B51" />
                    <rect id="Rectangle 14" width="40.969" height="4.0358" transform="matrix(0.72497 -0.688781 0.820208 0.572065 205.731 265.925)" fill="#357B51" />
                </g>
            </svg>


            <WorkerLine
                model={model}
            />
            {components}
            {/*<NameComponent model={model} />*/}
        </>
    )
}                                                                                                                                      